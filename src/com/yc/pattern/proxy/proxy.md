## proxy pattern
## 代理模式

### 定义
所谓代理，就是一个人或者一个机构代表另一个人或者另一个机构采取行动
在一些情况下，一个客户不想或者不能够直接引用一个对象，
而代理对象可以在客户端和目标对象之间起到中介的作用。

### UML图

![代理模式](https://github.com/yuechang/picture/blob/master/desginpattern/proxy-pattern.jpg)

### 代理的种类
 - 远程(Remote)代理：为一个位于不同的地址空间的对象提供一个局域代表对象
 - 虚拟(Virtual)代理：根据需要创建一个资源消耗较大的对象，使得此对象只在需要的时候才会被真正的创建
 - 智能引用(Smart Reference)代理：当一个对象被引用时，提供一些额外的操作
 - 保护(Protect or Access)代理：控制对一个对象的访问
 - 等等

### 代理模式的结构
#### 抽象主题角色：
声明了真实主题和代理主题的共同接口，这样一来在任何可以使用真实主题的地方都可以使用代理主题
#### 代理主题：
 - 代理主题角色主题内部含有对真实主题的引用，从而可以在任何时候操作真实主题对象；
 - 代理主题角色提供了一个与真实主题角色相同的接口，以便可以在任何时候都可以替代真实主题；
 - 控制对真实主题的引用，负责在需要的时候创建真实主题对象(和删除真实主题对象)；
 - 代理角色通常在将客户端调用传递给真实的主题之前或者之后，都要执行某个操作，而不是单纯地将调用传递给真实主题对象
#### 真实主题角色：
定义了代理角色所代表的真实对象

### 代理模式的优点
 - 与客户端直接向真实主题发出请求的情况相比，使用代理主题的显著好处是，系统提供了向真实主题传递客户端请求的控制；
 - 代理主题可以在想真实主题传递客户端请求之前执行特别的操作，并决定是否将请求传递给真实主题；
 - 代理主题可以在向真实主题传递客户端请求之后执行另外一种操作，如将客户端请求计数等。
总之，代理模式将一个中间层插入到客户端和主题角色之间，从而提供了许多的灵活性